# DayPlanner Code Map

This document is auto-generated to outline the primary declarations in each Swift file.

## (root)

### AllComponents.swift
- L14: `struct ContentView`
- L73: `func setupAppAppearance`
- L86: `struct UnifiedSplitView`
- L134: `struct LiquidGlassSeparator`
- L154: `struct TopBarView`
- L230: `struct AIDiagnosticsView`
- L279: `func runDiagnostics`
- L288: `func testConnection`
- L300: `struct CalendarPanel`
- L315: `struct MindPanel`
- L333: `struct ActionBarView`
- L344: `struct SettingsView`
- L356: `struct EnhancedBackfillView`
- L370: `enum TimeframeSelector`


## AI

### AIService.swift
- L13: `enum AudioPermissionStatus`
- L31: `class WhisperService`
- L46: `func transcribe`
- L91: `func createMultipartBody`
- L122: `struct WhisperResponse`
- L126: `enum WhisperError`
- L153: `class AIService`
- L188: `func setPatternEngine`
- L192: `func configure`
- L203: `func startConnectionMonitoring`
- L215: `func checkConnection`
- L257: `func processMessage`
- L301: `func recordInteractionForLearning`
- L324: `func recordResponseForLearning`
- L350: `func getCurrentTimePeriod`
- L359: `func generateSuggestions`
- L366: `func getSuggestions`
- L376: `func generateChains`
- L386: `func analyzeMessageIntent`
- L450: `func getPatternInsights`
- L503: `func extractUserPreferences`
- L536: `func processMindCommands`
- L613: `func processEventCreation`
- L660: `func processGoalCreation`
- L717: `func processPillarCreation`
- L762: `func processChainCreation`
- L821: `func processActivitySuggestions`
- L828: `func processGeneralChat`
- L859: `func buildPrompt`
- L912: `func generateCompletion`
- L986: `func sanitizeJSON`
- L997: `func parseResponse`
- L1009: `func uuid`
- L1055: `func parseChainResponse`
- L1119: `func parseActionAnalysis`
- L1165: `func parseEventCreationResponse`
- L1183: `func uuid`
- L1231: `func parseGoalCreationResponse`
- L1274: `func parsePillarCreationResponse`
- L1356: `func parseChainCreationResponse`
- L1446: `func buildEnhancedSuggestionPrompt`
- L1500: `func parseEnhancedSuggestionResponse`
- L1513: `func uuid`
- L1561: `struct AIResponse`
- L1569: `struct CreatedItem`
- L1576: `enum CreatedItemType`
- L1583: `enum AIActionType`
- L1592: `struct MessageActionAnalysis`
- L1601: `enum UrgencyLevel`
- L1608: `struct AIConfidenceThresholds`
- L1616: `func shouldCreateEvent`
- L1620: `func shouldCreateGoal`
- L1624: `func shouldCreatePillar`
- L1628: `func shouldCreateChain`
- L1632: `func shouldSuggestActivities`
- L1637: `struct AIResponseJSON`
- L1642: `struct SuggestionJSON`
- L1660: `enum AIError`
- L1682: `extension AIService`
- L1712: `func runDiagnostics`
- L1743: `func enhanceEventTitle`
- L1766: `extension AIService`
- L1782: `class SpeechService`
- L1817: `func requestPermissions`
- L1834: `func setupAudioSession`
- L1852: `func startListening`
- L1900: `func stopListening`
- L1921: `func processWithWhisper`
- L1965: `func speak`
- L1983: `func stopSpeaking`
- L2003: `func pauseSpeaking`
- L2017: `func continueSpeaking`
- L2041: `func getDiagnostics`
- L2061: `extension SpeechService`
- L2075: `extension SpeechService`
- L2109: `enum SpeechError`
- L2132: `extension SpeechService`


## App

### DayPlannerApp.swift
- L13: `enum AppTab`
- L26: `struct DayPlannerApp`
- L90: `struct ContentView`
- L226: `func setupAppAppearance`
- L253: `struct StatusBar`
- L300: `struct FlowGlassSidebar`
- L346: `struct ChainCard`
- L396: `struct SettingsView`
- L439: `enum SettingsTab`
- L461: `struct SettingsSidebar`
- L499: `struct SettingsContent`
- L538: `struct GeneralSettingsView`
- L609: `struct AITrustSettingsView`
- L705: `struct CalendarSettingsView`
- L773: `struct PillarsRulesSettingsView`
- L843: `struct ChainsSettingsView`
- L909: `struct DataHistorySettingsView`
- L1053: `struct AboutSettingsView`
- L1108: `struct SettingsGroup<Content`
- L1133: `struct PillarEditView`
- L1190: `struct ChainEditView`
- L1272: `struct AIDiagnosticsView`
- L1321: `func runDiagnostics`
- L1330: `func testConnection`
- L1343: `struct UnifiedSplitView`
- L1419: `struct CalendarPanel`
- L1530: `struct MindPanel`
- L1582: `struct LiquidGlassSeparator`
- L1602: `struct CalendarPanelHeader`
- L1753: `func previousDay`
- L1759: `func nextDay`
- L1768: `struct MindPanelHeader`
- L1804: `struct TimeframeSelectorCompact`
- L1838: `struct EnhancedDayView`
- L1893: `func handleBlockDrop`
- L1903: `struct ProportionalTimelineView`
- L1962: `func blocksForHour`
- L1969: `func hourLabel`
- L1984: `func isCurrentHour`
- L1989: `func hourBackgroundColor`
- L1994: `func currentTimeIndicator`
- L2021: `struct TimeLabelsColumn`
- L2057: `func hourLabel`
- L2072: `func isCurrentHour`
- L2078: `struct TimelineCanvas`
- L2131: `func hourBackgroundColor`
- L2136: `func currentTimeIndicator`
- L2160: `func isCurrentHour`
- L2165: `func handleTimeslotDrop`
- L2178: `func processDroppedItem`
- L2258: `func findChainTemplate`
- L2294: `func createChainEventsFromTemplate`
- L2318: `struct PreciseEventCard`
- L2513: `func calculateNewTime`
- L2532: `struct FixedPositionEventCard`
- L2722: `func calculateNewTime`
- L2739: `struct FixedEventDetailsSheet`
- L2873: `func addChainToEvent`
- L2902: `struct NoFlashEventDetailsSheet`
- L3053: `func addChainToEvent`
- L3082: `struct StaticEventDetailsTab`
- L3150: `struct StaticEventChainsTab`
- L3261: `func calculateGapBefore`
- L3270: `func calculateGapAfter`
- L3279: `func generateAndStageChain`
- L3306: `func generateContextualActivity`
- L3332: `func selectContextualEmoji`
- L3353: `struct StaticEventDurationTab`
- L3429: `func durationButton`
- L3456: `func setDuration`
- L3463: `struct HourWithEvents`
- L3537: `struct CleanEventCard`
- L3685: `func calculateNewTime`
- L3706: `struct EnhancedHourSlot`
- L3865: `func blocksForCurrentDay`
- L3873: `struct EnhancedTimeBlockCard`
- L4025: `func timeString`
- L4031: `func calculateNewTime`
- L4054: `func showChainSelector`
- L4061: `enum EventTab`
- L4075: `struct EventDetailsSheet`
- L4177: `struct EventTabSelector`
- L4221: `struct EventDetailsTab`
- L4302: `struct EventChainsTab`
- L4511: `func calculateGapBefore`
- L4523: `func calculateGapAfter`
- L4535: `func addChain`
- L4543: `func generateChainsForEvent`
- L4562: `func buildChainGenerationPrompt`
- L4601: `func formatTime`
- L4607: `func generateAndStageChain`
- L4629: `func generateContextualActivity`
- L4655: `func selectContextualEmoji`
- L4678: `struct ChainOptionCard`
- L4733: `struct ChainCreatorSheet`
- L4797: `func createChain`
- L4820: `struct GeneratedChainsSheet`
- L4904: `struct GeneratedChainCard`
- L4993: `struct EventDurationTab`
- L5051: `func presetDurationButton`
- L5110: `func setDuration`
- L5119: `enum ChainPosition`
- L5137: `struct ChainInputButton`
- L5183: `struct ChainInputPopover`
- L5232: `enum ChainInputTab`
- L5238: `enum ChainInputType`
- L5244: `struct ExistingChainsView`
- L5285: `struct QuickActivitiesView`
- L5309: `struct CustomChainInputView`
- L5357: `struct MonthViewExpanded`
- L5471: `func previousMonth`
- L5477: `func nextMonth`
- L5484: `func handleDayTap`
- L5504: `func handleDragStart`
- L5511: `func handleDragEnter`
- L5531: `func handleDragEnd`
- L5539: `struct MultiSelectCalendarDayCell`
- L5651: `enum SelectionStyle`
- L5655: `struct HalfCapsule`
- L5656: `enum Side`
- L5659: `func path`
- L5689: `struct CalendarDropDelegate`
- L5697: `func dropEntered`
- L5701: `func dropExited`
- L5705: `func performDrop`
- L5816: `func dropUpdated`
- L5827: `struct SuperchargedChainsSection`
- L5975: `func generateAIChainSuggestions`
- L6008: `func createChainFromTemplate`
- L6033: `func applyChainToToday`
- L6038: `func duplicateChain`
- L6051: `func findBestTimeForChain`
- L6063: `func generateAndShowContextualChain`
- L6098: `func createAndStageChainFromTemplate`
- L6106: `func createChainFromTemplateHelper`
- L6127: `func generateUniqueAIChain`
- L6146: `func generateContextualChain`
- L6187: `func createTimeBasedUniqueChain`
- L6206: `func getTimeContext`
- L6243: `struct ChainTemplateCard`
- L6290: `extension View`
- L6291: `func onPressGesture`
- L6308: `struct DraggableChainTemplateCard`
- L6396: `func createDragProvider`
- L6403: `struct ChainTemplateEditorSheet`
- L6487: `func saveChain`
- L6508: `struct EditableActivity`
- L6515: `struct EditableActivityRow`
- L6552: `extension Array`
- L6558: `struct SuperchargedChainCard`
- L6639: `struct AdvancedChainCreatorSheet`
- L6709: `struct AIChainSuggestionsSheet`
- L6769: `struct CrystalPillarsSection`
- L6803: `struct EmptyPillarsCard`
- L6844: `struct ComprehensivePillarEditorSheet`
- L7062: `func savePillar`
- L7091: `func parseList`
- L7101: `struct MultiLineTagEditor`
- L7141: `struct ComprehensivePillarCreatorSheet`
- L7340: `func createPillar`
- L7367: `func parseList`
- L7374: `struct TimeWindowCreatorSheet`
- L7476: `struct EnhancedPillarCard`
- L7526: `struct EnhancedGoalsSection`
- L7612: `func toggleGoalState`
- L7622: `func processGoalBreakdown`
- L7649: `struct AuroraDreamBuilderSection`
- L7682: `struct SectionHeader`
- L7729: `struct EnhancedChainCard`
- L7809: `struct PillarCrystalCard`
- L7858: `struct GoalMistCard`
- L7927: `struct EnhancedGoalCard`
- L8038: `struct EmptyGoalsCard`
- L8077: `struct EnhancedGoalCreatorSheet`
- L8192: `func generateAISuggestions`
- L8235: `func createGoal`
- L8251: `struct AIGoalBreakdownSheet`
- L8361: `func generateBreakdown`
- L8404: `func regenerateBreakdown`
- L8412: `struct ActionCard`
- L8482: `struct GoalDetailSheet`
- L8576: `struct AuroraDreamCard`
- L8600: `struct EmptyStateCard`
- L8631: `struct TopBarView`
- L8682: `struct AnimatedSettingsStrip`
- L8844: `struct CalendarTabView`
- L8879: `struct CalendarControlsBar`
- L8916: `struct RightRailView`
- L8946: `enum RightRailSection`
- L8960: `struct RightRailHeader`
- L8992: `struct ManualCreationSection`
- L9052: `struct SuggestionsSection`
- L9119: `func generateSuggestions`
- L9149: `struct RescheduleSection`
- L9198: `func rescheduleBlock`
- L9209: `struct SuggestionRailCard`
- L9262: `struct RescheduleCard`
- L9289: `struct EnhancedBackfillView`
- L9512: `func parseManualInput`
- L9541: `func applyTemplate`
- L9555: `func showQuickAddSheet`
- L9559: `func editSuggestion`
- L9563: `func editBackfillBlock`
- L9567: `func exportToCalendar`
- L9573: `func generateBackfillSuggestions`
- L9601: `func findAvailableTimeSlots`
- L9627: `func createHighConfidenceReconstruction`
- L9670: `func findBestTimeInSlot`
- L9686: `func applySuggestion`
- L9691: `func createRealisticDayReconstruction`
- L9732: `func moveBackfillBlock`
- L9738: `func removeBackfillBlock`
- L9742: `func commitBackfill`
- L9753: `func discardBackfill`
- L9757: `func createDefaultBackfillBlocks`
- L9799: `enum BackfillTimeframe`
- L9805: `struct BackfillTimeframeSelector`
- L9846: `struct BackfillTimeline`
- L9871: `func blocksForHour`
- L9877: `struct BackfillHourSlot`
- L9923: `struct BackfillBlockView`
- L9978: `struct BackfillSuggestionsPanel`
- L10034: `struct BackfillSuggestionCard`
- L10075: `struct BackfillActionsBar`
- L10111: `struct BackfillTemplatesView`
- L10149: `func generateTemplates`
- L10176: `struct BackfillTemplate`
- L10186: `struct DraggableBackfillTemplate`
- L10247: `func createTimeBlockFromTemplate`
- L10265: `struct PillarDayView`
- L10383: `func analyzePillarNeeds`
- L10426: `func shouldCreateEventForPillar`
- L10441: `func findBestTimeSlot`
- L10459: `func isTimeSlotAvailable`
- L10470: `func findNextAvailableSlot`
- L10488: `func generateAnalysisText`
- L10496: `func createPillarEvent`
- L10502: `func stagePillarEvent`
- L10507: `func addAllPillarEvents`
- L10516: `struct MissingPillarCard`
- L10558: `struct DraggableSuggestedEventCard`
- L10633: `func createEventDragProvider`
- L10642: `struct GapFillerView`
- L10715: `func analyzeGaps`
- L10729: `func findScheduleGaps`
- L10763: `func generateGapSuggestions`
- L10803: `func generateTasksForDuration`
- L10825: `func applyGapSuggestion`
- L10846: `struct ScheduleGap`
- L10851: `struct MicroTask`
- L10856: `struct GapSuggestion`
- L10863: `struct GapSuggestionCard`
- L10904: `struct MindTabView`
- L10934: `struct FloatingActionBarView`
- L11194: `func sendMessage`
- L11248: `func acceptSuggestion`
- L11258: `func rejectSuggestion`
- L11264: `func acceptAllSuggestions`
- L11273: `func rejectAllSuggestions`
- L11284: `func showEphemeralInsight`
- L11294: `func promoteInsightToTranscript`
- L11302: `func startVoiceInput`
- L11313: `func endVoiceInput`
- L11333: `func isSchedulingRequest`
- L11347: `func handleSmartAIResponse`
- L11364: `func handleEventCreation`
- L11407: `func handleGoalCreation`
- L11449: `func handlePillarCreation`
- L11490: `func handleChainCreation`
- L11531: `func handleActivitySuggestions`
- L11540: `func handleGeneralChat`
- L11550: `func handleLegacyResponse`
- L11611: `func shouldCreateEventsDirectly`
- L11626: `func hasSpecificTime`
- L11633: `func hasUrgencyIndicators`
- L11639: `func confidenceColor`
- L11649: `func createContext`
- L11655: `func extractDateFromMessage`
- L11721: `func findNextAvailableTime`
- L11747: `func findRelatedGoal`
- L11760: `func findRelatedPillar`
- L11780: `func suggestRelatedActivities`
- L11795: `struct StagedSuggestionView`
- L11866: `struct MessageHistoryView`
- L11893: `struct MessageBubble`
- L11926: `struct AIMessage`
- L11935: `struct DayPlannerView`
- L11988: `func blocksForHour`
- L11997: `func updateDataManagerDate`
- L12004: `func switchToDate`
- L12009: `func handleBlockDrop`
- L12027: `struct DayViewHeader`
- L12064: `func previousDay`
- L12071: `func nextDay`
- L12078: `func updateDataManagerDate`
- L12085: `func switchToDate`
- L12091: `struct HourSlot`
- L12162: `struct SimpleTimeBlockView`
- L12330: `func getAllBlocks`
- L12334: `func calculateGapBefore`
- L12346: `func calculateGapAfter`
- L12358: `func calculateNewTime`
- L12381: `func showChainSelector`
- L12390: `enum ChainTabPosition`
- L12394: `struct ChainInfo`
- L12400: `struct ChainAddTab`
- L12434: `struct ChainSelectorView`
- L12553: `func generateChainSuggestions`
- L12597: `func createChainsFromResponse`
- L12644: `func createDefaultChainSuggestions`
- L12686: `func createCustomChain`
- L12717: `struct ChainSuggestionCard`
- L12775: `struct ExistingChainCard`
- L12813: `struct MonthView`
- L12972: `func handleDayTap`
- L13004: `func clearSelection`
- L13011: `func isDateInSelectionRange`
- L13019: `func updateMultiDayInsight`
- L13035: `func generateMultiDayInsight`
- L13097: `func previousMonth`
- L13103: `func nextMonth`
- L13110: `struct EnhancedDayCell`
- L13163: `struct DayCell`
- L13195: `struct BlockCreationSheet`
- L13327: `struct TimeframeSelectorView`
- L13341: `struct ChainsSection`
- L13398: `struct ChainRowView`
- L13443: `struct ChainCreationView`
- L13505: `func flowPatternExplanation`
- L13518: `func addNewBlock`
- L13531: `struct ChainBlockEditRow`
- L13583: `struct PillarsSection`
- L13638: `struct PillarRowView`
- L13667: `struct PillarCreationView`
- L13735: `struct GoalsSection`
- L13790: `struct GoalRowView`
- L13835: `struct GoalCreationView`
- L13939: `func createPillarFromGoal`
- L13954: `func createChainFromGoal`
- L13978: `func createEventFromGoal`
- L13990: `struct DreamBuilderSection`
- L14101: `func convertConceptToGoal`
- L14119: `func showMergeOptions`
- L14127: `func mergeConcepts`
- L14137: `struct EnhancedDreamConceptView`
- L14247: `struct DreamMergeView`
- L14341: `func generateMergeSuggestion`
- L14389: `func extractTitleFromResponse`
- L14400: `func performMerge`
- L14420: `struct DreamChatView`
- L14500: `func startDreamConversation`
- L14509: `func sendMessage`
- L14530: `func processDreamMessage`
- L14591: `func extractReadableTextFromResponse`
- L14609: `func extractConceptsFromMessage`
- L14635: `func extractKeywords`
- L14643: `func saveConcept`
- L14651: `func saveExtractedConcepts`
- L14658: `struct DreamChatMessage`
- L14665: `struct DreamChatBubble`
- L14696: `struct ConceptPill`
- L14719: `struct DreamConceptView`
- L14762: `struct IntakeSection`
- L14914: `func generateNewQuestions`
- L14926: `func generateContextualQuestions`
- L14962: `func resetAnsweredQuestions`
- L14970: `func showAIThoughts`
- L14978: `func processCoreMessage`
- L15017: `func buildCorePrompt`
- L15042: `func processCoreActions`
- L15093: `func createPillarFromAI`
- L15128: `func createGoalFromAI`
- L15150: `func createChainFromAI`
- L15169: `func createEventFromAI`
- L15185: `func handleCreatedItems`
- L15261: `func analyzeMessageForCoreAction`
- L15281: `func parseFrequency`
- L15290: `func parseTimeWindows`
- L15301: `func parseGoalGroups`
- L15323: `func parseTargetDate`
- L15330: `func parseChainBlocks`
- L15345: `func extractTimeFromMessage`
- L15378: `func findNextAvailableTime`
- L15389: `func extractGoalTitle`
- L15414: `func extractPillarName`
- L15436: `func extractChainName`
- L15458: `func determineImportanceFromMessage`
- L15472: `func determinePillarType`
- L15484: `func inferFrequency`
- L15498: `func inferTargetDate`
- L15518: `func extractWisdom`
- L15537: `func selectGoalEmoji`
- L15559: `func selectPillarEmoji`
- L15579: `func selectChainEmoji`
- L15597: `func findRelatedPillars`
- L15609: `func createDefaultChainBlocks`
- L15640: `struct AIOutgoSection`
- L15760: `func generateWisdom`
- L15783: `func buildWisdomPrompt`
- L15806: `func parseWisdomResponse`
- L15818: `func calculateGoalAlignment`
- L15826: `func calculatePillarAdherence`
- L15847: `struct AIAnalysisView`
- L15890: `func generateFullAnalysis`
- L15915: `struct EnhancedIntakeQuestionView`
- L16027: `struct AIKnowledgeView`
- L16121: `struct KnowledgeItem`
- L16158: `struct IntakeQuestionView`
- L16199: `struct IntakeQuestionDetailView`
- L16272: `struct EmojiPickerButton`
- L16305: `struct EmojiPickerView`
- L16349: `struct ExportDocument`
- L16365: `func fileWrapper`
- L16370: `struct HistoryLogView`
- L16410: `struct ChainsTemplatesView`
- L16448: `func generateTemplates`
- L16482: `struct DraggableChainTemplate`
- L16541: `func createChainFromTemplate`


## App/AppShell

### ActionBarView.swift
- L5: `struct FloatingActionBarView`
- L266: `func sendMessage`
- L320: `func acceptSuggestion`
- L330: `func rejectSuggestion`
- L336: `func acceptAllSuggestions`
- L345: `func rejectAllSuggestions`
- L356: `func showEphemeralInsight`
- L366: `func promoteInsightToTranscript`
- L374: `func startVoiceInput`
- L385: `func endVoiceInput`
- L405: `func isSchedulingRequest`
- L419: `func handleSmartAIResponse`
- L436: `func handleEventCreation`
- L491: `func handleGoalCreation`
- L533: `func handlePillarCreation`
- L582: `func handleChainCreation`
- L623: `func handleActivitySuggestions`
- L632: `func handleGeneralChat`
- L642: `func handleLegacyResponse`
- L703: `func shouldCreateEventsDirectly`
- L718: `func hasSpecificTime`
- L725: `func hasUrgencyIndicators`
- L731: `func confidenceColor`
- L741: `func createContext`
- L747: `func extractDateFromMessage`
- L813: `func findNextAvailableTime`
- L839: `func findRelatedGoal`
- L852: `func findRelatedPillar`
- L872: `func suggestRelatedActivities`
- L887: `struct StagedSuggestionView`
- L958: `struct MessageHistoryView`
- L985: `struct MessageBubble`
- L1018: `struct AIMessage`

### AppMain.swift
- L13: `enum MindSection`
- L22: `enum MindDestination`
- L42: `func open`
- L46: `func consumeDestination`
- L51: `enum AppTab`
- L64: `struct DayPlannerApp`
- L144: `struct ContentView`
- L303: `func setupAppAppearance`

### TopBarView.swift
- L5: `struct StatusBar`
- L52: `struct TopBarView`
- L103: `struct AnimatedSettingsStrip`

### UnifiedSplitView.swift
- L6: `struct UnifiedSplitView`
- L84: `struct LiquidGlassSeparator`


## App/Calendar

### BackfillViews.swift
- L5: `struct EnhancedBackfillView`
- L229: `func parseManualInput`
- L258: `func applyTemplate`
- L272: `func showQuickAddSheet`
- L276: `func editSuggestion`
- L280: `func editBackfillBlock`
- L284: `func exportToCalendar`
- L290: `func generateBackfillSuggestions`
- L318: `func findAvailableTimeSlots`
- L344: `func createHighConfidenceReconstruction`
- L387: `func findBestTimeInSlot`
- L403: `func applySuggestion`
- L408: `func createRealisticDayReconstruction`
- L449: `func moveBackfillBlock`
- L455: `func removeBackfillBlock`
- L459: `func commitBackfill`
- L470: `func discardBackfill`
- L474: `func createDefaultBackfillBlocks`
- L516: `enum BackfillTimeframe`
- L522: `struct BackfillTimeframeSelector`
- L563: `struct BackfillTimeline`
- L588: `func blocksForHour`
- L594: `struct BackfillHourSlot`
- L640: `struct BackfillBlockView`
- L695: `struct BackfillSuggestionsPanel`
- L751: `struct BackfillSuggestionCard`
- L792: `struct BackfillActionsBar`
- L828: `struct BackfillTemplatesView`
- L867: `func generateTemplates`
- L894: `struct BackfillTemplate`
- L904: `struct DraggableBackfillTemplate`
- L966: `func createTimeBlockFromTemplate`
- L984: `struct PillarDayView`
- L1103: `func analyzePillarNeeds`
- L1121: `func generateAnalysisText`
- L1141: `func createPillarEvent`
- L1147: `func stagePillarEvent`
- L1152: `func addAllPillarEvents`
- L1161: `struct MissingPillarCard`
- L1203: `struct DraggableSuggestedEventCard`
- L1279: `func createEventDragProvider`

### CalendarChatBar.swift
- L3: `struct CalendarChatBar`
- L134: `func refreshPrompt`
- L142: `func handleSend`
- L153: `func handleConfirmationReply`
- L162: `func confirm`
- L168: `func requeue`
- L173: `func sendPlanningMessage`
- L189: `func handleTellMeChip`
- L199: `func handleAskMeChip`
- L210: `func undoLastConfirmation`
- L218: `struct ChatChip`
- L235: `struct ChatActionButton`

### CalendarHeader.swift
- L5: `struct CalendarPanelHeader`
- L154: `func previousDay`
- L160: `func nextDay`
- L167: `extension CalendarPanelHeader`
- L168: `func toggleRecommendations`

### CalendarPanel.swift
- L5: `struct CalendarPanel`
- L132: `struct CalendarTabView`
- L168: `struct CalendarControlsBar`
- L205: `struct RightRailView`
- L236: `enum RightRailSection`
- L250: `struct RightRailHeader`
- L282: `struct ManualCreationSection`
- L343: `struct SuggestionsSection`
- L411: `func generateSuggestions`
- L444: `struct RescheduleSection`
- L494: `func rescheduleBlock`
- L505: `struct SuggestionRailCard`
- L558: `struct RescheduleCard`

### ChainComponents.swift
- L5: `struct FlowGlassSidebar`
- L52: `struct ChainCard`
- L102: `struct ChainOptionCard`
- L157: `struct ChainCreatorSheet`
- L221: `func createChain`
- L244: `struct GeneratedChainsSheet`
- L328: `struct GeneratedChainCard`
- L417: `struct EventDurationTab`
- L475: `func presetDurationButton`
- L534: `func setDuration`
- L543: `enum ChainPosition`
- L561: `struct ChainInputButton`
- L607: `struct ChainInputPopover`
- L656: `enum ChainInputTab`
- L662: `enum ChainInputType`
- L668: `struct ExistingChainsView`
- L710: `struct QuickActivitiesView`
- L734: `struct CustomChainInputView`
- L782: `struct SuperchargedChainsSection`
- L931: `func generateAIChainSuggestions`
- L964: `func createChainFromTemplate`
- L989: `func applyChainToToday`
- L994: `func duplicateChain`
- L1007: `func findBestTimeForChain`
- L1019: `func generateAndShowContextualChain`
- L1054: `func createAndStageChainFromTemplate`
- L1062: `func createChainFromTemplateHelper`
- L1083: `func generateUniqueAIChain`
- L1102: `func generateContextualChain`
- L1143: `func createTimeBasedUniqueChain`
- L1162: `func getTimeContext`
- L1199: `struct ChainTemplateCard`
- L1246: `extension View`
- L1247: `func onPressGesture`
- L1264: `struct DraggableChainTemplateCard`
- L1352: `func createDragProvider`
- L1359: `struct ChainTemplateEditorSheet`
- L1443: `func saveChain`
- L1464: `struct EditableActivity`
- L1471: `struct EditableActivityRow`
- L1508: `extension Array`
- L1514: `struct SuperchargedChainCard`
- L1595: `struct AdvancedChainCreatorSheet`
- L1665: `struct AIChainSuggestionsSheet`
- L1725: `struct CrystalPillarsSection`
- L1760: `struct EmptyPillarsCard`
- L1801: `enum ChainTabPosition`
- L1805: `struct ChainInfo`
- L1811: `struct ChainAddTab`
- L1845: `struct ChainSelectorView`
- L1965: `func generateChainSuggestions`
- L2009: `func createChainsFromResponse`
- L2056: `func createDefaultChainSuggestions`
- L2098: `func createCustomChain`
- L2129: `struct ChainSuggestionCard`
- L2187: `struct ExistingChainCard`
- L2225: `struct MonthView`
- L2385: `func handleDayTap`
- L2417: `func clearSelection`
- L2424: `func isDateInSelectionRange`
- L2432: `func updateMultiDayInsight`
- L2448: `func generateMultiDayInsight`
- L2510: `func previousMonth`
- L2516: `func nextMonth`
- L2523: `struct EnhancedDayCell`
- L2576: `struct DayCell`
- L2607: `struct ChainsTemplatesView`
- L2646: `func generateTemplates`
- L2680: `struct DraggableChainTemplate`
- L2740: `func createChainFromTemplate`

### EnhancedDayView.swift
- L5: `struct GhostAcceptanceInfo`
- L16: `struct GhostAcceptancePreferenceKey`
- L27: `struct EnhancedDayView`
- L167: `func handleBlockDrop`
- L187: `func makeDiagnosticsSuggestions`
- L207: `func toggleGhostSelection`
- L218: `extension EnhancedDayView`
- L219: `func startGhostRefresh`
- L240: `func stopGhostRefresh`
- L246: `func refreshGhosts`
- L269: `func generateGhostSuggestions`
- L289: `func assignTimes`
- L321: `func placeSuggestion`
- L396: `func computeGaps`
- L420: `func snapUpToNearestFiveMinutes`
- L428: `func normalizeSuggestions`
- L454: `func fingerprint`
- L459: `func shouldUpdateGhosts`
- L469: `func acceptAllGhosts`
- L473: `func acceptSelectedGhosts`
- L482: `func acceptGhosts`
- L505: `struct TimeGap`
- L514: `struct HourWithEvents`
- L589: `struct EnhancedHourSlot`
- L749: `func blocksForCurrentDay`

### GapAffordance.swift
- L5: `struct GapFillerView`
- L79: `func analyzeGaps`
- L93: `func findScheduleGaps`
- L127: `func generateGapSuggestions`
- L167: `func generateTasksForDuration`
- L189: `func applyGapSuggestion`
- L210: `struct ScheduleGap`
- L215: `struct MicroTask`
- L220: `struct GapSuggestion`
- L227: `struct GapSuggestionCard`

### GhostOverlay.swift
- L3: `struct GhostOverlay`
- L32: `struct GhostEventCard`
- L240: `struct TagView`
- L258: `struct ConnectionBadgeRow`
- L282: `func destination`
- L291: `struct ConnectionBadgeLabel`
- L313: `struct ConnectionBadgeItem`
- L314: `enum Kind`
- L342: `struct GhostAcceptanceBar`

### LegacyDayPlannerView.swift
- L5: `struct DayPlannerView`
- L59: `func blocksForHour`
- L68: `func updateDataManagerDate`
- L75: `func switchToDate`
- L80: `func handleBlockDrop`
- L98: `struct DayViewHeader`
- L136: `func previousDay`
- L143: `func nextDay`
- L150: `func updateDataManagerDate`
- L157: `func switchToDate`
- L163: `struct HourSlot`
- L234: `struct SimpleTimeBlockView`
- L403: `func getAllBlocks`
- L407: `func calculateGapBefore`
- L419: `func calculateGapAfter`
- L431: `func calculateNewTime`
- L454: `func showChainSelector`
- L464: `struct BlockCreationSheet`
- L650: `struct TimeframeSelectorView`
- L664: `struct ChainsSection`
- L722: `struct ChainRowView`
- L767: `struct ChainCreationView`
- L829: `func flowPatternExplanation`
- L842: `func addNewBlock`
- L855: `struct ChainBlockEditRow`
- L907: `struct PillarsSection`
- L963: `struct PillarRowView`
- L993: `struct PillarCreationView`
- L1061: `struct GoalsSection`
- L1117: `struct GoalRowView`
- L1162: `struct GoalCreationView`
- L1266: `func createPillarFromGoal`
- L1281: `func createChainFromGoal`
- L1305: `func createEventFromGoal`
- L1317: `struct DreamBuilderSection`
- L1429: `func convertConceptToGoal`
- L1447: `func showMergeOptions`
- L1455: `func mergeConcepts`
- L1465: `struct EnhancedDreamConceptView`

### MonthViewExpanded.swift
- L5: `struct MonthViewExpanded`
- L119: `func previousMonth`
- L125: `func nextMonth`
- L132: `func handleDayTap`
- L152: `func handleDragStart`
- L159: `func handleDragEnter`
- L179: `func handleDragEnd`
- L187: `struct MultiSelectCalendarDayCell`
- L299: `enum SelectionStyle`
- L303: `struct HalfCapsule`
- L304: `enum Side`
- L307: `func path`
- L337: `struct CalendarDropDelegate`
- L345: `func dropEntered`
- L349: `func dropExited`
- L353: `func performDrop`
- L464: `func dropUpdated`

### PreciseEventCard.swift
- L5: `struct FixedPositionEventCard`
- L196: `func calculateNewTime`
- L213: `struct FixedEventDetailsSheet`
- L346: `struct NoFlashEventDetailsSheet`
- L496: `struct StaticEventDetailsTab`
- L564: `struct EventConnectionsTab`
- L638: `func connectionSection`
- L655: `func selectionLabel`
- L678: `struct StaticEventDurationTab`
- L754: `func durationButton`
- L781: `func setDuration`
- L788: `struct CleanEventCard`
- L941: `func calculateNewTime`
- L1010: `struct EnhancedTimeBlockCard`
- L1163: `func timeString`
- L1169: `func calculateNewTime`
- L1196: `enum EventTab`
- L1210: `struct EventDetailsSheet`
- L1306: `struct EventTabSelector`
- L1350: `struct EventDetailsTab`

### ProportionalTimelineView.swift
- L5: `struct ProportionalTimelineView`
- L21: `struct DroppedTodoPayload`
- L118: `func blocksForHour`
- L125: `func hourLabel`
- L140: `func isCurrentHour`
- L145: `func hourBackgroundColor`
- L150: `func currentTimeIndicator`
- L177: `struct TimeLabelsColumn`
- L213: `func hourLabel`
- L228: `func isCurrentHour`
- L234: `struct TimelineCanvas`
- L288: `func hourBackgroundColor`
- L293: `func currentTimeIndicator`
- L317: `func isCurrentHour`
- L322: `func handleTimeslotDrop`
- L335: `func processDroppedItem`
- L392: `struct PreciseEventCard`
- L681: `func calculateNewTime`
- L753: `func gapEdgeButton`
- L770: `func openGapEditor`
- L779: `func defaultTitle`
- L790: `struct GapEdgeContext`
- L791: `enum Edge`
- L812: `func clampDurationMinutes`


## App/Mind

### GoalGraphView.swift
- L5: `struct EnhancedGoalCard`
- L135: `struct EmptyGoalsCard`
- L174: `struct EnhancedGoalCreatorSheet`
- L289: `func generateAISuggestions`
- L332: `func createGoal`
- L348: `struct AIGoalBreakdownSheet`
- L459: `func generateBreakdown`
- L502: `func regenerateBreakdown`
- L510: `struct ActionCard`
- L580: `struct GoalDetailSheet`
- L674: `struct AuroraDreamCard`
- L698: `struct EmptyStateCard`

### MindChatBar.swift
- L4: `struct MindChatBar`
- L112: `func sendMessage`
- L167: `func fallbackResponse`
- L181: `func extractTitle`
- L188: `func friendlyOfflineMessage`
- L199: `func offlineCreation`
- L237: `func offlineGoalAdjustment`
- L283: `func offlinePillarAdjustment`
- L320: `func findPillarMatch`
- L327: `func findGoalMatch`
- L334: `func parseList`
- L343: `func extractContent`
- L360: `func splitList`
- L367: `func parseQuietHours`
- L413: `func formatTime`
- L427: `func extractRenameTarget`
- L440: `func extractDescriptionUpdate`
- L449: `func extractFocusUpdate`
- L458: `func parseImportanceLevel`
- L474: `func parseGoalNodes`
- L494: `func clarificationPrompt`
- L506: `struct MindChatChip`
- L524: `extension String`

### MindPanel.swift
- L6: `struct HighlightedGoalEnvironmentKey`
- L10: `struct HighlightedPillarEnvironmentKey`
- L14: `extension EnvironmentValues`
- L26: `struct MindPanel`
- L103: `func applyHighlight`
- L131: `struct MindPanelHeader`
- L167: `struct TimeframeSelectorCompact`
- L201: `struct MindRecommendationsSection`
- L264: `func submitFeedback`
- L284: `func resolveLinks`
- L292: `struct MindRecommendationCard`
- L363: `struct ConfidencePill`
- L380: `struct MindEmptyState`
- L404: `struct MindViewSection`
- L527: `func makeBullet`
- L532: `struct MindProfileCard`
- L583: `struct MindProfileBullet`
- L591: `struct FeedbackComposerView`
- L634: `func toggle`
- L643: `struct FeedbackTagChip`
- L667: `struct FeedbackDebugPanel`
- L709: `func tagline`

### PillarsSection.swift
- L6: `struct MindPillarsSection`
- L101: `struct MindPillarCard`
- L203: `struct MindEmptyPillarsCard`
- L245: `struct PillarSummaryRow`
- L274: `struct PillarDetailSheet`
- L415: `func wisdomSection`
- L425: `func detailSection`
- L455: `func relatedGoalSection`
- L505: `struct PillarTagList`
- L530: `struct MindPillarsSection`
- L625: `struct MindPillarCard`
- L727: `struct MindEmptyPillarsCard`
- L769: `struct PillarSummaryRow`
- L798: `struct PillarDetailSheet`
- L939: `func wisdomSection`
- L949: `func detailSection`
- L979: `func relatedGoalSection`
- L1029: `struct PillarTagList`
- L1052: `struct ComprehensivePillarEditorSheet`
- L1254: `func savePillar`
- L1275: `struct PillarListEditor`
- L1294: `func sanitizedPillarStrings`
- L1312: `func sanitizedQuietHours`
- L1329: `func parseTimeWindowString`
- L1340: `func parseClockString`
- L1351: `struct ComprehensivePillarCreatorSheet`
- L1554: `func createPillar`
- L1560: `func buildPillar`
- L1576: `func generateAISuggestions`
- L1630: `func createPillarWithAI`
- L1650: `func enhancePillarWithAI`
- L1705: `func applySuggestion`
- L1729: `func decodeSuggestion`
- L1737: `func summary`
- L1763: `func resolveFrequency`
- L1778: `struct PillarSuggestion`
- L1787: `enum CodingKeys`
- L1795: `struct TimeWindowCreatorSheet`
- L1897: `struct EnhancedPillarCard`
- L1968: `struct EnhancedGoalsSection`
- L2055: `func toggleGoalState`
- L2065: `func processGoalBreakdown`
- L2092: `struct AuroraDreamBuilderSection`
- L2126: `struct EmojiPickerButton`
- L2159: `struct EmojiPickerView`

### ViewCards.swift
- L5: `struct SectionHeader`
- L52: `struct EnhancedChainCard`
- L132: `struct PillarCrystalCard`
- L181: `struct GoalMistCard`
- L250: `struct MindTabView`
- L281: `struct DreamMergeView`
- L375: `func generateMergeSuggestion`
- L423: `func extractTitleFromResponse`
- L434: `func performMerge`
- L454: `struct DreamChatView`
- L535: `func startDreamConversation`
- L544: `func sendMessage`
- L565: `func processDreamMessage`
- L626: `func extractReadableTextFromResponse`
- L644: `func extractConceptsFromMessage`
- L670: `func extractKeywords`
- L678: `func saveConcept`
- L686: `func saveExtractedConcepts`
- L693: `struct DreamChatMessage`
- L700: `struct DreamChatBubble`
- L731: `struct ConceptPill`
- L754: `struct DreamConceptView`
- L797: `struct IntakeSection`
- L950: `func generateNewQuestions`
- L962: `func generateContextualQuestions`
- L998: `func resetAnsweredQuestions`
- L1006: `func showAIThoughts`
- L1014: `func processCoreMessage`
- L1053: `func buildCorePrompt`
- L1078: `func processCoreActions`
- L1129: `func createPillarFromAI`
- L1162: `func createGoalFromAI`
- L1184: `func createChainFromAI`
- L1203: `func createEventFromAI`
- L1219: `func handleCreatedItems`
- L1282: `func analyzeMessageForCoreAction`
- L1302: `func parseFrequency`
- L1317: `func extractStringList`
- L1329: `func extractQuietHours`
- L1348: `func sanitizedQuietHours`
- L1363: `func parseTimeWindowString`
- L1374: `func parseClockString`
- L1385: `func sanitizeStrings`
- L1396: `func parseGoalGroups`
- L1418: `func parseTargetDate`
- L1425: `func parseChainBlocks`
- L1440: `func extractTimeFromMessage`
- L1473: `func findNextAvailableTime`
- L1484: `func extractGoalTitle`
- L1509: `func extractPillarName`
- L1531: `func extractChainName`
- L1553: `func determineImportanceFromMessage`
- L1567: `func determinePillarType`
- L1579: `func inferFrequency`
- L1593: `func inferTargetDate`
- L1613: `func extractWisdom`
- L1632: `func selectGoalEmoji`
- L1654: `func selectPillarEmoji`
- L1674: `func selectChainEmoji`
- L1692: `func findRelatedPillars`
- L1704: `func createDefaultChainBlocks`
- L1735: `struct AIOutgoSection`
- L1856: `func generateWisdom`
- L1879: `func buildWisdomPrompt`
- L1902: `func parseWisdomResponse`
- L1914: `func calculateGoalAlignment`
- L1922: `func calculatePillarAdherence`
- L1936: `struct AIAnalysisView`
- L1980: `func generateFullAnalysis`
- L2005: `struct EnhancedIntakeQuestionView`
- L2117: `struct AIKnowledgeView`
- L2212: `struct KnowledgeItem`
- L2249: `struct IntakeQuestionView`
- L2290: `struct IntakeQuestionDetailView`


## App/Onboarding

### OnboardingCoordinator.swift
- L5: `enum Step`
- L31: `func restoreFromState`
- L60: `func startIfNeeded`
- L73: `func completeOnboarding`
- L87: `func createGuidedEvent`
- L102: `func createGuidedPillar`
- L120: `func createGuidedGoal`
- L132: `func requestGuidedGhost`
- L136: `func createGuidedFeedback`
- L151: `func onboardingDidCaptureMood`
- L159: `func onboardingDidCreateBlock`
- L175: `func onboardingDidCreatePillar`
- L183: `func onboardingDidCreateGoal`
- L192: `func onboardingDidSubmitFeedback`
- L202: `func advance`
- L209: `func updateState`

### OnboardingOverlay.swift
- L3: `struct OnboardingOverlay`
- L199: `func iconForStep`
- L212: `func titleForStep`
- L225: `func detailForStep`
- L238: `func acceptFirstGhost`
- L274: `func findFirstAvailableSlot`


## App/Records

### RecordsStore.swift
- L8: `func seed`
- L12: `func add`
- L16: `func remove`

### TodoListView.swift
- L10: `struct TodoListView`
- L159: `func sectionHeader`
- L170: `func dragProvider`
- L190: `struct FollowUpRow`
- L286: `struct TodoRow`
- L353: `struct CompletedRow`
- L393: `struct EmptyTodosView`
- L415: `struct FollowUpEditorState`
- L439: `struct FollowUpConfirmSheet`
- L485: `func submit`
- L496: `struct TodoDragPayload`
- L508: `struct AddTodoSheet`


## App/Settings

### DiagnosticsView.swift
- L5: `struct AIDiagnosticsView`
- L54: `func runDiagnostics`
- L63: `func testConnection`

### SettingsView.swift
- L7: `struct SettingsView`
- L51: `enum SettingsTab`
- L75: `struct SettingsSidebar`
- L113: `struct SettingsContent`
- L158: `struct GeneralSettingsView`
- L230: `struct AITrustSettingsView`
- L400: `func updateWeighting`
- L410: `struct WeightSliderRow`
- L442: `struct CalendarSettingsView`
- L551: `struct PillarsRulesSettingsView`
- L622: `struct ChainsSettingsView`
- L689: `struct DataHistorySettingsView`
- L834: `struct DiagnosticsSettingsView`
- L867: `func label`
- L1091: `extension Notification`
- L1096: `struct AboutSettingsView`
- L1151: `struct SettingsGroup<Content`
- L1176: `struct PillarEditView`
- L1233: `struct ChainEditView`
- L1315: `struct ExportDocument`
- L1331: `func fileWrapper`
- L1336: `struct HistoryLogView`


## Data

### Models.swift
- L15: `struct TimeBlock`
- L110: `enum CodingKeys`
- L151: `func encode`
- L186: `extension UTType`
- L191: `enum EnergyType`
- L214: `enum FlowState`
- L237: `enum GlassState`
- L254: `enum TimePeriod`
- L279: `struct Chain`
- L295: `enum CodingKeys`
- L319: `func encode`
- L379: `enum FlowPattern`
- L398: `struct Routine`
- L419: `struct RoutineScheduleRule`
- L435: `enum RoutineFrequency`
- L444: `enum RoutineCondition`
- L458: `struct Day`
- L493: `enum GlassMood`
- L534: `struct Suggestion`
- L585: `func toTimeBlock`
- L607: `struct DayContext`
- L652: `struct AppState`
- L708: `enum BlockConfirmationState`
- L714: `enum TimeBlockOrigin`
- L723: `struct Record`
- L740: `struct UserPreferences`
- L778: `enum AIProvider`
- L792: `struct SuggestionWeighting`
- L798: `enum EventKitWritePolicy`
- L812: `struct SuggestionFeedbackStats`
- L845: `enum FeedbackTargetType`
- L851: `enum FeedbackTag`
- L881: `struct FeedbackEntry`
- L907: `struct MoodEntry`
- L921: `enum MoodCaptureSource`
- L927: `enum OnboardingPhase`
- L939: `struct OnboardingState`
- L957: `struct FollowUpMetadata`
- L972: `struct TodoItem`
- L1015: `func followUpRelativeString`
- L1021: `extension Chain`
- L1033: `extension Day`
- L1052: `struct Pillar`
- L1152: `enum PillarType`
- L1177: `enum PillarFrequency`
- L1201: `struct TimeWindow`
- L1214: `enum OverlapRule`
- L1222: `struct Goal`
- L1264: `enum CodingKeys`
- L1285: `func encode`
- L1312: `enum GoalBreakdownAction`
- L1319: `enum GoalState`
- L1333: `struct GoalGroup`
- L1348: `struct GoalTask`
- L1370: `enum GoalGraphNodeType`
- L1399: `func seededTitle`
- L1415: `struct GoalGraphNode`
- L1446: `struct GoalGraphEdge`
- L1460: `struct GoalGraphHistoryEntry`
- L1474: `struct GoalGraph`
- L1490: `extension GoalGraph`
- L1573: `enum GoalGraphRegenerateScope`
- L1579: `struct DreamConcept`
- L1608: `struct IntakeQuestion`
- L1632: `enum IntakeCategory`
- L1655: `struct CodableColor`
- L1676: `extension Pillar`
- L1720: `extension Goal`
- L1793: `extension IntakeQuestion`
- L1826: `enum TimeframeSelector`
- L1841: `extension FlowPattern`
- L1856: `struct ChainTemplate`
- L1871: `enum BackfillViewMode`
- L1885: `struct QuickTemplate`

### Storage.swift
- L16: `struct MindCommandOutcome`
- L23: `protocol OnboardingProgressDelegate`
- L24: `func onboardingDidCaptureMood`
- L25: `func onboardingDidCreateBlock`
- L26: `func onboardingDidCreatePillar`
- L27: `func onboardingDidCreateGoal`
- L28: `func onboardingDidSubmitFeedback`
- L31: `enum MicroUpdateReason`
- L42: `struct SuggestionSnapshot`
- L61: `struct DateFormatters`
- L77: `class AppDataManager`
- L107: `func requestMicroUpdate`
- L113: `func consumePendingMicroUpdate`
- L118: `func consumeMicroUpdate`
- L156: `func save`
- L170: `func load`
- L196: `func captureMood`
- L216: `func skipMoodPrompt`
- L221: `func updateTodaysMoodEntry`
- L240: `func recordMoodBehavior`
- L257: `func updateOnboardingState`
- L261: `func syncExternalEvents`
- L269: `func mergeExternalEvents`
- L339: `func recordExternalChange`
- L356: `func energyEstimate`
- L365: `func attachEventKitIdentifier`
- L375: `func addTimeBlock`
- L404: `func updateTimeBlock`
- L413: `func removeTimeBlock`
- L420: `func moveTimeBlock`
- L428: `func isGoalPinned`
- L432: `func toggleGoalPin`
- L442: `func isPillarEmphasized`
- L446: `func togglePillarEmphasis`
- L458: `func produceSuggestions`
- L476: `func shouldRefreshSuggestions`
- L492: `func reasonRequiresLLM`
- L506: `func prioritizeSuggestions`
- L556: `func goalBoost`
- L565: `func pillarBoost`
- L574: `func feedbackBoost`
- L602: `func combinedReason`
- L611: `func debugLogTopSuggestions`
- L628: `struct WeightedSuggestion`
- L639: `func refreshPastBlocks`
- L670: `func nextUnconfirmedBlock`
- L674: `func confirmBlock`
- L700: `func undoRecord`
- L716: `func requeueBlock`
- L748: `func addChain`
- L762: `func addPillar`
- L773: `func updatePillar`
- L787: `func removePillar`
- L794: `func makeMindEditorContext`
- L835: `func applyMindCommands`
- L1045: `func normalizePillarDefinition`
- L1056: `func sanitizePillarStrings`
- L1071: `func normalizeTimeWindows`
- L1099: `func describeFrequency`
- L1108: `func formatTimeWindow`
- L1112: `func resolveFrequency`
- L1128: `func extractFirstInteger`
- L1133: `func resolvePillarIds`
- L1142: `func findGoal`
- L1152: `func findPillar`
- L1162: `func findNodeId`
- L1166: `func mergePillarStrings`
- L1177: `func parseQuietHours`
- L1190: `func parseTime`
- L1202: `func createEnhancedContext`
- L1219: `func findGaps`
- L1241: `struct TimeSlot`
- L1247: `func markChainCompleted`
- L1263: `func promptRoutinePromotion`
- L1274: `func promoteChainToRoutine`
- L1294: `func dismissRoutinePromotion`
- L1301: `func inferScheduleRules`
- L1326: `func applyChain`
- L1373: `func switchToDay`
- L1414: `func updateDayMood`
- L1423: `func recordPattern`
- L1436: `func getUserPatternsForAI`
- L1442: `func updatePreferences`
- L1449: `func exportData`
- L1453: `func importData`
- L1466: `func ensureTodayExists`
- L1476: `func ensureGoalGraphsExist`
- L1488: `func createSampleData`
- L1539: `func addGoal`
- L1550: `func updateGoal`
- L1570: `func removeGoal`
- L1577: `func toggleTaskCompletion`
- L1592: `func updateGoalProgress`
- L1604: `func toggleGoalNodePin`
- L1617: `func regenerateGoalNode`
- L1639: `func propagateEmojiFromGoal`
- L1664: `func propagateEmojiFromPillar`
- L1689: `func createTimeBlockWithInheritedEmoji`
- L1712: `func createChainWithInheritedEmoji`
- L1735: `func addTodoItem`
- L1740: `func updateTodoItem`
- L1747: `func toggleTodoCompletion`
- L1754: `func removeTodoItem`
- L1759: `func confirmFollowUpTodo`
- L1798: `func linkTimeBlockToGoal`
- L1812: `func linkTimeBlockToPillar`
- L1827: `func recordTimeBlockCreation`
- L1848: `func recordSuggestionFeedback`
- L1876: `func updateFeedbackStats`
- L1890: `func recordFeedback`
- L1924: `func applyAggregatedFeedback`
- L1947: `func applyFeedbackStats`
- L1954: `func applyFeedbackStats`
- L1962: `func recordChainApplication`
- L1982: `func resolveMetadata`
- L1991: `func resolveGoalMetadata`
- L2014: `func resolvePillarMetadata`
- L2037: `func matchGoals`
- L2076: `func matchPillars`
- L2115: `func uniqueGoals`
- L2125: `func uniquePillars`
- L2135: `enum AmbiguityType`
- L2137: `func handleAmbiguousLink`
- L2155: `func normalizedTitle`
- L2162: `func matches`
- L2172: `func applySuggestion`
- L2199: `func rejectSuggestion`
- L2213: `func getItemsWithEmoji`
- L2231: `extension Date`
- L2236: `func setting`
- L2245: `class EventKitService`
- L2267: `func requestCalendarAccess`
- L2292: `func createEvent`
- L2318: `func createEvents`
- L2329: `func fetchEvents`
- L2335: `func handleEventStoreChange`
- L2339: `func getDiagnostics`
- L2362: `enum EventKitError`
- L2386: `class WeatherService`
- L2400: `func requestLocationPermission`
- L2423: `func updateWeatherIfNeeded`
- L2434: `func fetchWeatherData`
- L2454: `func simulateWeatherFetch`
- L2467: `func setDefaultWeather`
- L2476: `func generateSeasonalWeather`
- L2516: `func getWeatherContext`
- L2525: `func shouldSuggestIndoor`
- L2530: `func shouldSuggestOutdoor`
- L2536: `struct WeatherInfo`
- L2543: `enum WeatherCondition`
- L2571: `class WeatherLocationDelegate`
- L2578: `func locationManagerDidChangeAuthorization`
- L2588: `extension Animation`
- L2598: `actor PersistenceActor`
- L2620: `func saveAppState`
- L2640: `func performSave`
- L2660: `func loadAppState`
- L2675: `func exportData`
- L2690: `func importData`
- L2702: `func shouldCreateBackup`
- L2709: `func createDailyBackup`
- L2721: `func getLastBackupDate`
- L2736: `func cleanOldBackups`


## Extensions

### Extensions.swift
- L14: `struct DateFormatters`
- L42: `extension Date`
- L54: `func setting`
- L69: `func adding`
- L100: `extension Color`
- L138: `extension String`
- L139: `func badgeShortTitle`
- L164: `extension View`
- L166: `func liquidGlass`
- L173: `func glow`
- L180: `func floating`
- L191: `func pulsing`
- L202: `func bounceOnAppear`
- L211: `struct BounceOnAppearView<Content`
- L230: `extension View`
- L232: `func shimmer`
- L249: `func glassCard`
- L259: `func timeBasedTint`
- L281: `extension TimeInterval`
- L308: `extension Array`
- L315: `func blocks`
- L358: `extension String`
- L360: `func truncated`
- L382: `extension CGPoint`
- L384: `func distance`
- L389: `func midpoint`
- L399: `enum HapticStyle`
- L402: `func trigger`
- L423: `enum HapticStyle`
- L426: `func trigger`
- L434: `extension View`
- L436: `func optimized`
- L442: `func debugBorder`
- L453: `struct LiquidGlassEnvironment`
- L466: `class AstronomicalTimeCalculator`
- L472: `func getTimeColor`
- L518: `func calculateSolarTimes`
- L541: `func createNightColor`
- L545: `func createDawnColor`
- L552: `func createSunriseColor`
- L559: `func createMorningColor`
- L566: `func createNoonColor`
- L570: `func createAfternoonColor`
- L577: `func createGoldenHourColor`
- L584: `func createSunsetColor`
- L591: `func createDuskColor`
- L602: `extension TimeBlock`
- L614: `extension Chain`
- L629: `extension AppDataManager`


## Glass

### Animations.swift
- L12: `enum LiquidAnimations`
- L28: `struct TimeGradient`
- L71: `struct CelebrationBurst`
- L95: `func createBurst`
- L136: `struct CelebrationParticle`
- L148: `struct LiquidTransition<Content`
- L196: `enum FlowDirection`
- L213: `struct GlassStateIndicator`
- L251: `struct MorphingShape`
- L282: `func addWavePath`
- L294: `func addDropPath`
- L320: `enum ShapeType`
- L327: `struct EnergyFlow`
- L342: `func drawEnergyFlow`
- L363: `func createFlowPath`
- L377: `func drawFlowParticles`
- L392: `extension EnergyType`
- L406: `struct HapticFeedback`
- L423: `extension View`
- L425: `func liquidTransition`
- L432: `func celebrationBurst`
- L439: `func morphingShape`
- L447: `func energyFlow`
- L455: `func glassStateIndicator`
- L467: `struct SuccessSequence`
- L500: `func startSuccessSequence`
- L516: `struct Animations_Previews`

### LiquidGlass.swift
- L14: `struct LiquidGlassView<Content`
- L78: `func createRipple`
- L103: `struct Ripple`
- L124: `struct RippleView`
- L152: `struct VisualEffectBlur`
- L156: `func makeNSView`
- L164: `func updateNSView`
- L171: `struct GlassReflectionOverlay`
- L218: `struct LiquidDistortionEffect`
- L223: `func body`
- L237: `extension Material`
- L248: `extension View`
- L250: `func glassBackground`
- L265: `func glassEffect`
- L291: `struct LiquidGlassView_Previews`

### RippleEffects.swift
- L14: `class RippleManager`
- L28: `func createRipple`
- L38: `func createVoiceRipple`
- L47: `func startCleanupTimer`
- L60: `enum RippleType`
- L108: `struct AdvancedRipple`
- L130: `struct VoiceRipple`
- L156: `struct AdvancedRippleView`
- L191: `func currentRadius`
- L197: `func ringOpacity`
- L205: `struct VoiceRippleView`
- L239: `struct LiquidMercuryEffect`
- L246: `func body`
- L278: `func updateMercuryTrail`
- L298: `struct WaterfallCascade`
- L331: `func itemOpacity`
- L337: `func itemOffset`
- L346: `extension View`
- L348: `func liquidMercury`
- L353: `func rippleEffect`
- L363: `struct RippleContainer`
- L391: `struct RippleManagerKey`
- L395: `extension EnvironmentValues`
- L405: `struct RippleEffects_Previews`


## Intelligence

### MindEditorModels.swift
- L5: `struct MindEditorContext`
- L6: `struct GoalSummary`
- L7: `struct NodeSummary`
- L25: `struct PillarSummary`
- L43: `struct MindCommandResponse`
- L48: `enum MindCommandType`
- L60: `struct MindCommandNodeDescriptor`
- L68: `struct MindQuietHourDescriptor`
- L73: `struct MindCommandUpdateDescriptor`
- L88: `struct MindCommandLinkDescriptor`
- L94: `struct MindCommandDescriptor`
- L118: `struct MindCommandResponseModel`
- L123: `struct MindCommandGoalReference`
- L132: `struct MindCommandPillarReference`
- L141: `struct MindCommandNode`
- L149: `struct MindCommandCreateGoal`
- L159: `struct MindCommandUpdateGoal`
- L168: `struct MindCommandAddNode`
- L175: `struct MindCommandLinkNodes`
- L182: `struct MindCommandPinNode`
- L188: `struct MindCommandCreatePillar`
- L200: `struct MindCommandUpdatePillar`
- L212: `enum MindCommand`
- L225: `extension MindCommandResponseModel`
- L226: `func toMindCommandResponse`
- L232: `extension MindCommand`
- L345: `extension MindCommandNode`
- L360: `func normalized`

### PatternLearning.swift
- L15: `class PatternLearningEngine`
- L52: `func recordBehavior`
- L74: `func debouncedAnalyzePatterns`
- L98: `func performPatternAnalysis`
- L104: `func analyzePatterns`
- L133: `func performFullAnalysis`
- L156: `func performIncrementalAnalysis`
- L179: `func calculatePatternAlignment`
- L198: `func analyzeTimePatterns`
- L280: `func analyzeEnergyPatterns`
- L324: `func analyzeFlowPatterns`
- L364: `func analyzeChainPatterns`
- L401: `func generateInsights`
- L446: `func generateSuggestions`
- L502: `func startPeriodicAnalysis`
- L517: `func updateUIMetrics`
- L540: `func generateImmediateRecommendation`
- L569: `func generateSuccessRecommendation`
- L574: `func generateImprovementRecommendation`
- L578: `func acknowledgement`
- L595: `func getActionBarSuggestion`
- L605: `func createPatternBasedSuggestions`
- L631: `func createEnergySuggestion`
- L657: `func loadPatterns`
- L678: `func savePatterns`
- L706: `struct Pattern`
- L719: `enum CodingKeys`
- L753: `func withUpdatedConfidence`
- L784: `enum PatternType`
- L806: `enum PatternActionType`
- L823: `struct Insight`
- L842: `enum InsightCategory`
- L851: `struct BehaviorEvent`
- L857: `enum CodingKeys`
- L868: `struct EventContext`
- L884: `enum BehaviorEventType`
- L899: `struct TimeBlockData`
- L908: `struct ChainData`
- L916: `struct SuggestionData`
- L930: `struct DayData`
- L938: `struct FeedbackBehaviorData`
- L947: `enum PatternData`
- L955: `struct TemporalData`
- L963: `struct HourlyProductivity`
- L971: `struct EnergyData`
- L978: `struct EnergyTimeMatch`
- L986: `struct EnergyTransition`
- L994: `struct ActivityData`
- L1001: `struct ActivitySequence`
- L1009: `struct CompletionStats`
- L1016: `struct BehavioralData`
- L1023: `struct ChainEffectiveness`
- L1031: `struct ProcrastinationTrigger`
- L1038: `struct MotivationFactor`
- L1045: `struct EnvironmentalData`
- L1051: `struct ActivityPreference`
- L1058: `struct ProductivityImpact`
- L1065: `struct ConfidenceInterval`
- L1073: `struct PatternUIMetrics`
- L1086: `enum AnalysisQuality`
- L1111: `struct ActionableInsight`
- L1141: `enum InsightActionType`
- L1165: `struct StatisticalAnalyzer`
- L1252: `enum TrendDirection`
- L1266: `struct TrendAnalysis`
- L1279: `extension Array`
- L1280: `func chunked`
- L1296: `class VibeAnalyzer`
- L1305: `func analyzeCurrentVibe`
- L1331: `func calculateVibe`
- L1357: `func calculateEnergyBalance`
- L1368: `func calculateEnergyDistribution`
- L1383: `func findDominantActivities`
- L1396: `func updateSeasonalPatterns`
- L1418: `func getCurrentSeason`
- L1430: `func mostCommonVibe`
- L1435: `func generateSeasonalSuggestions`
- L1450: `func getVibeInsight`
- L1474: `func getSeasonalSuggestions`
- L1487: `enum DailyVibe`
- L1518: `struct VibeData`
- L1526: `enum CodingKeys`
- L1531: `enum Season`
- L1547: `struct SeasonalPattern`
- L1554: `enum CodingKeys`
- L1560: `extension PatternLearningEngine`
- L1608: `extension VibeAnalyzer`


## Surfaces

### CalendarDayView.swift
- L13: `struct CalendarDayView`
- L120: `func handleTimelineClick`
- L133: `func handleEventTap`
- L138: `func handleEventDrag`
- L143: `func handleEventDrop`
- L159: `func handleEventResize`
- L165: `func scrollToCurrentHour`
- L175: `func getTimeContext`
- L191: `struct TimeSidebar`
- L216: `func formatHour`
- L223: `func isCurrentHour`
- L232: `struct TimelineGrid`
- L254: `struct EventsOverlay`
- L294: `struct EventCard`
- L440: `func calculatePosition`
- L447: `func calculateHeight`
- L490: `func generateAIDescription`
- L505: `func getTimeContext`
- L517: `func addChainBefore`
- L523: `func addChainAfter`
- L529: `func showChainSuggestions`
- L543: `func createDefaultChain`
- L561: `enum ChainDirection`
- L565: `struct ChainButton`
- L587: `struct DragIndicatorLine`
- L635: `struct EventCreationSheet`
- L713: `struct CalendarDayView_Previews`

### FlowGlass.swift
- L13: `struct FlowGlass`
- L79: `func startCascadeAnimation`
- L85: `func applyChain`
- L96: `func suggestChain`
- L102: `func clearChains`
- L109: `func findNextAvailableSlot`
- L116: `func createSuggestedChain`
- L164: `struct FlowHeader`
- L189: `struct ChainFlowCard`
- L301: `struct EmptyChainState`
- L335: `struct QuickActionsView`
- L360: `struct ChainCreatorView`
- L428: `func createChain`
- L440: `struct PatternCard`
- L484: `struct ChainDetailView`
- L546: `func activityRow`
- L575: `struct FlowGlass_Previews`

### TodayGlass.swift
- L13: `struct TodayGlass`
- L102: `func handleBlockTap`
- L110: `func handleBlockDrag`
- L126: `func handleBlockDrop`
- L144: `func calculateTimeFromDragLocation`
- L170: `func formatTime`
- L176: `func handlePanelTap`
- L186: `func calculateTimeFromLocation`
- L209: `func timeForLocation`
- L219: `struct TimePeriodPanel`
- L282: `struct PanelHeader`
- L318: `struct TimeBlockCard`
- L541: `func timeString`
- L547: `func quickAdjustDuration`
- L554: `func duplicateEvent`
- L562: `func deleteEvent`
- L566: `func handleResize`
- L582: `struct ResizeHandle`
- L624: `struct PanelBackgroundView`
- L654: `struct EnhancedBlockBackgroundView`
- L752: `struct EmptyPeriodView`
- L848: `func applyChain`
- L870: `struct EventDetailSheet`
- L945: `struct EventHeaderSection`
- L1025: `struct EventBasicInfoSection`
- L1055: `struct EventTimingSection`
- L1113: `func formatTime`
- L1120: `struct EventPropertiesSection`
- L1207: `struct EventChainActionsSection`
- L1254: `struct EventDangerZoneSection`
- L1292: `struct ChainCreationFromBlock`
- L1373: `func flowPatternDescription`
- L1386: `struct TodayGlass_Previews`


## Views

### MainContentView.swift
- L12: `struct ContentView`
- L73: `func setupAppAppearance`
- L85: `struct StatusBar`
- L133: `struct UnifiedSplitView`
- L242: `struct LiquidGlassSeparator`
- L262: `struct TopBarView`
- L339: `struct AIDiagnosticsView`
- L388: `func runDiagnostics`
- L397: `func testConnection`


## Views/AI

### ActionBarViews.swift
- L12: `struct ActionBarView`
- L217: `func sendMessage`
- L271: `func acceptSuggestion`
- L281: `func rejectSuggestion`
- L287: `func acceptAllSuggestions`
- L296: `func rejectAllSuggestions`
- L307: `func showEphemeralInsight`
- L317: `func promoteInsightToTranscript`
- L325: `func startVoiceInput`
- L336: `func endVoiceInput`
- L356: `func isSchedulingRequest`
- L370: `func handleSmartAIResponse`
- L387: `func handleEventCreation`
- L430: `func handleGoalCreation`
- L472: `func handlePillarCreation`
- L521: `func handleChainCreation`
- L562: `func handleActivitySuggestions`
- L571: `func handleGeneralChat`
- L581: `func handleLegacyResponse`
- L642: `func shouldCreateEventsDirectly`
- L657: `func hasSpecificTime`
- L664: `func hasUrgencyIndicators`
- L670: `func confidenceColor`
- L680: `func createContext`
- L686: `func extractDateFromMessage`
- L752: `func findNextAvailableTime`
- L778: `func findRelatedGoal`
- L791: `func findRelatedPillar`
- L811: `func suggestRelatedActivities`
- L826: `struct StagedSuggestionView`
- L897: `struct MessageHistoryView`
- L924: `struct MessageBubble`
- L957: `struct AIMessage`


## Views/Calendar

### BackfillViews.swift
- L12: `struct EnhancedBackfillView`
- L236: `func parseManualInput`
- L265: `func applyTemplate`
- L279: `func showQuickAddSheet`
- L283: `func editSuggestion`
- L287: `func editBackfillBlock`
- L291: `func exportToCalendar`
- L297: `func generateBackfillSuggestions`
- L325: `func findAvailableTimeSlots`
- L351: `func createHighConfidenceReconstruction`
- L395: `func findBestTimeInSlot`
- L411: `func applySuggestion`
- L416: `func createRealisticDayReconstruction`
- L457: `func moveBackfillBlock`
- L463: `func removeBackfillBlock`
- L467: `func commitBackfill`
- L478: `func discardBackfill`
- L482: `func createDefaultBackfillBlocks`
- L524: `enum BackfillTimeframe`
- L530: `enum BackfillViewMode`
- L536: `struct BackfillTemplate`
- L546: `struct QuickTemplate`
- L556: `struct ChainsTemplatesView`
- L595: `func generateTemplates`
- L629: `struct DraggableChainTemplate`
- L689: `func createChainFromTemplate`
- L711: `struct BackfillTemplatesView`
- L750: `func generateTemplates`
- L777: `struct DraggableBackfillTemplate`
- L839: `func createTimeBlockFromTemplate`
- L857: `struct GapFillerView`
- L931: `func analyzeGaps`
- L945: `func findScheduleGaps`
- L979: `func generateGapSuggestions`
- L1019: `func generateTasksForDuration`
- L1041: `func applyGapSuggestion`
- L1062: `struct ScheduleGap`
- L1067: `struct MicroTask`
- L1072: `struct GapSuggestion`
- L1079: `struct GapSuggestionCard`

### CalendarPanelViews.swift
- (No top-level declarations detected)

### CalendarViews.swift
- L12: `struct CalendarPanel`
- L124: `struct CalendarPanelHeader`
- L275: `func previousDay`
- L281: `func nextDay`
- L290: `struct EnhancedDayView`
- L343: `func handleBlockDrop`
- L349: `func updateDataManagerDate`

### EventDetailsViews.swift
- L12: `enum EventTab`
- L28: `struct NoFlashEventDetailsSheet`
- L180: `func addChainToEvent`
- L209: `struct StaticEventDetailsTab`
- L277: `struct StaticEventChainsTab`
- L388: `func calculateGapBefore`
- L397: `func calculateGapAfter`
- L406: `func generateAndStageChain`
- L433: `func generateContextualActivity`
- L459: `func selectContextualEmoji`
- L480: `struct StaticEventDurationTab`
- L556: `func durationButton`
- L583: `func setDuration`
- L590: `enum ChainPosition`

### MonthViewComponents.swift
- L12: `struct MonthViewExpanded`
- L123: `func previousMonth`
- L129: `func nextMonth`
- L136: `func handleDayTap`
- L156: `func handleDragStart`
- L163: `func handleDragEnter`
- L183: `func handleDragEnd`
- L191: `struct MultiSelectCalendarDayCell`
- L303: `enum SelectionStyle`
- L307: `struct HalfCapsule`
- L308: `enum Side`
- L311: `func path`
- L341: `struct CalendarDropDelegate`
- L349: `func dropEntered`
- L353: `func dropExited`
- L357: `func performDrop`
- L445: `func dropUpdated`
- L454: `struct MonthView`
- L614: `func handleDayTap`
- L646: `func clearSelection`
- L653: `func isDateInSelectionRange`
- L661: `func updateMultiDayInsight`
- L677: `func generateMultiDayInsight`
- L739: `func previousMonth`
- L745: `func nextMonth`
- L752: `struct EnhancedDayCell`
- L805: `struct DayCell`

### PreciseEventComponents.swift
- L12: `struct PreciseEventCard`
- L208: `func calculateNewTime`
- L227: `struct EnhancedTimeBlockCard`
- L380: `func timeString`
- L386: `func calculateNewTime`
- L409: `func showChainSelector`
- L416: `struct BlockCreationSheet`

### TimelineComponents.swift
- L12: `struct ProportionalTimelineView`
- L76: `func blocksForHour`
- L83: `func hourLabel`
- L98: `func isCurrentHour`
- L103: `func hourBackgroundColor`
- L108: `func currentTimeIndicator`
- L135: `struct TimeLabelsColumn`
- L171: `func hourLabel`
- L186: `func isCurrentHour`
- L192: `struct TimelineCanvas`
- L246: `func hourBackgroundColor`
- L251: `func currentTimeIndicator`
- L275: `func isCurrentHour`
- L280: `func handleTimeslotDrop`
- L293: `func processDroppedItem`
- L370: `func findChainTemplate`
- L406: `func createChainEventsFromTemplate`
- L432: `struct SimpleTimeBlockView`
- L601: `func getAllBlocks`
- L605: `func calculateGapBefore`
- L617: `func calculateGapAfter`
- L629: `func calculateNewTime`
- L652: `func showChainSelector`

### TimelineViews.swift
- L12: `struct ProportionalTimelineView`
- L76: `func blocksForHour`
- L83: `func hourLabel`
- L98: `func isCurrentHour`
- L103: `func hourBackgroundColor`
- L108: `func currentTimeIndicator`
- L135: `struct TimeLabelsColumn`
- L171: `func hourLabel`
- L186: `func isCurrentHour`
- L192: `struct TimelineCanvas`
- L246: `func hourBackgroundColor`
- L251: `func currentTimeIndicator`
- L275: `func isCurrentHour`
- L280: `func handleTimeslotDrop`
- L293: `func processDroppedItem`
- L373: `func findChainTemplate`
- L409: `func createChainEventsFromTemplate`


## Views/Components

### ExportComponents.swift
- L13: `struct ExportDocument`
- L29: `func fileWrapper`
- L36: `struct HistoryLogView`

### HelperViews.swift
- L12: `struct SettingsGroup<Content`
- L37: `struct PillarEditView`
- L94: `struct ChainEditView`
- L176: `struct AIDiagnosticsView`
- L225: `func runDiagnostics`
- L236: `func testConnection`

### MissingComponents.swift
- L12: `struct RippleContainer<Content`
- L24: `struct AIOrb`
- L38: `enum TimeframeSelector`
- L54: `struct SuperchargedChainsSection`
- L73: `struct CrystalPillarsSection`
- L91: `struct EnhancedGoalsSection`
- L110: `struct AuroraDreamBuilderSection`
- L128: `struct IntakeSection`
- L146: `struct AIOutgoSection`
- L167: `struct ChainTemplate`
- L175: `struct AstronomicalTimeCalculator`
- L178: `func getTimeColor`
- L188: `struct TimeGradient`


## Views/Mind

### ChainComponents.swift
- L12: `struct SuperchargedChainsSection`
- L161: `func generateAIChainSuggestions`
- L194: `func createChainFromTemplate`
- L219: `func applyChainToToday`
- L224: `func duplicateChain`
- L237: `func findBestTimeForChain`
- L249: `func generateAndShowContextualChain`
- L284: `func createAndStageChainFromTemplate`
- L292: `func createChainFromTemplateHelper`
- L313: `func generateUniqueAIChain`
- L332: `func generateContextualChain`
- L373: `func createTimeBasedUniqueChain`
- L392: `func getTimeContext`
- L429: `struct ChainTemplateCard`
- L476: `extension View`
- L477: `func onPressGesture`
- L494: `struct DraggableChainTemplateCard`
- L582: `func createDragProvider`
- L589: `struct ChainTemplateEditorSheet`
- L673: `func saveChain`
- L694: `struct EditableActivity`
- L701: `struct EditableActivityRow`
- L738: `extension Array`
- L744: `struct SuperchargedChainCard`
- L825: `struct AdvancedChainCreatorSheet`
- L895: `struct AIChainSuggestionsSheet`
- L957: `struct ChainsSection`
- L1015: `struct ChainRowView`
- L1060: `struct ChainCreationView`
- L1122: `func flowPatternExplanation`
- L1135: `func addNewBlock`
- L1150: `struct FlowGlassSidebar`
- L1197: `struct ChainCard`

### DreamAndIntakeComponents.swift
- L12: `struct CoreChatSection`
- L68: `func processCoreMessage`
- L107: `func buildCorePrompt`
- L132: `func processCoreActions`
- L183: `func createPillarFromAI`
- L207: `func createGoalFromAI`
- L229: `func createChainFromAI`
- L248: `func createEventFromAI`
- L264: `func handleCreatedItems`
- L327: `func analyzeMessageForCoreAction`
- L347: `func parseFrequency`
- L356: `func parseTimeWindows`
- L367: `func parseGoalGroups`
- L389: `func parseTargetDate`
- L396: `func parseChainBlocks`
- L411: `func extractTimeFromMessage`
- L444: `func findNextAvailableTime`
- L456: `struct IntakeQuestionsSection`
- L563: `func generateNewQuestions`
- L575: `func generateContextualQuestions`
- L611: `func resetAnsweredQuestions`
- L619: `func showAIThoughts`
- L626: `struct AuroraDreamBuilderSection`
- L658: `struct AuroraDreamCard`
- L682: `struct DreamBuilderSection`
- L794: `func convertConceptToGoal`
- L812: `func showMergeOptions`
- L820: `func mergeConcepts`
- L830: `struct EnhancedDreamConceptView`
- L940: `struct DreamMergeView`
- L1034: `func generateMergeSuggestion`
- L1082: `func extractTitleFromResponse`
- L1093: `func performMerge`
- L1113: `struct DreamChatView`
- L1194: `func startDreamConversation`
- L1203: `func sendMessage`
- L1224: `func processDreamMessage`
- L1285: `func extractReadableTextFromResponse`
- L1303: `func extractConceptsFromMessage`
- L1329: `func extractKeywords`
- L1337: `func saveConcept`
- L1345: `func saveExtractedConcepts`
- L1352: `struct DreamChatMessage`
- L1359: `struct DreamChatBubble`
- L1390: `struct ConceptPill`
- L1413: `struct DreamConceptView`
- L1456: `struct IntakeSection`
- L1609: `func generateNewQuestions`
- L1621: `func generateContextualQuestions`
- L1657: `func resetAnsweredQuestions`
- L1665: `func showAIThoughts`
- L1673: `func processCoreMessage`
- L1712: `func buildCorePrompt`
- L1737: `func processCoreActions`
- L1788: `func createPillarFromAI`
- L1812: `func createGoalFromAI`
- L1834: `func createChainFromAI`
- L1853: `func createEventFromAI`
- L1869: `func handleCreatedItems`
- L1932: `func analyzeMessageForCoreAction`
- L1952: `func parseFrequency`
- L1961: `func parseTimeWindows`
- L1972: `func parseGoalGroups`
- L1994: `func parseTargetDate`
- L2001: `func parseChainBlocks`
- L2016: `func extractTimeFromMessage`
- L2049: `func findNextAvailableTime`
- L2061: `struct AIOutgoSection`
- L2182: `func generateWisdom`
- L2205: `func buildWisdomPrompt`
- L2228: `func parseWisdomResponse`
- L2240: `func calculateGoalAlignment`
- L2248: `func calculatePillarAdherence`
- L2269: `struct AIAnalysisView`
- L2313: `func generateFullAnalysis`
- L2338: `struct EnhancedIntakeQuestionView`
- L2450: `struct AIKnowledgeView`
- L2545: `struct KnowledgeItem`
- L2582: `struct IntakeQuestionView`
- L2623: `struct IntakeQuestionDetailView`

### GoalComponents.swift
- L10: `struct EnhancedGoalsSection`
- L163: `func toggleGoalState`
- L173: `func processGoalBreakdown`
- L199: `func submitGoalFeedback`
- L228: `struct EnhancedGoalCard`
- L373: `struct GoalGraphQuickCanvas`
- L400: `struct GoalGraphNodeView`
- L482: `struct GoalGraphDetailView`
- L536: `struct GoalGraphCanvasView`
- L584: `struct GoalGraphNodeBubbleView`
- L680: `struct GoalGraphRootView`
- L711: `struct GoalGraphLayout`
- L712: `struct EdgeRepresentation`
- L725: `func position`
- L736: `func edges`
- L757: `func radius`
- L768: `func angleOffset`
- L779: `struct EmptyGoalsCard`
- L818: `struct EnhancedGoalCreatorSheet`
- L933: `func generateAISuggestions`
- L976: `func createGoal`
- L992: `struct AIGoalBreakdownSheet`
- L1103: `func generateBreakdown`
- L1146: `func regenerateBreakdown`
- L1154: `struct ActionCard`
- L1224: `struct GoalDetailSheet`
- L1318: `struct GoalMistCard`
- L1385: `struct GoalsSection`
- L1441: `struct GoalRowView`
- L1486: `struct GoalCreationView`
- L1590: `func createPillarFromGoal`
- L1605: `func createChainFromGoal`
- L1629: `func createEventFromGoal`

### MindPanelViews.swift
- L12: `struct MindPanel`
- L71: `struct MindPanelHeader`
- L107: `struct TimeframeSelectorCompact`
- L141: `struct MindTabView`
- L177: `struct TimeframeSelectorView`
- L193: `struct SectionHeader`

### PillarComponents.swift
- L10: `struct CrystalPillarsSection`
- L48: `struct EmptyPillarsCard`
- L89: `struct ComprehensivePillarEditorSheet`
- L274: `func savePillar`
- L297: `struct ComprehensivePillarCreatorSheet`
- L450: `func generateAISuggestions`
- L485: `func createPillarWithAI`
- L517: `func enhancePillarWithAI`
- L541: `struct TimeWindowCreatorSheet`
- L643: `struct EnhancedPillarCard`
- L731: `struct PillarCrystalCard`
- L780: `struct PillarsSection`
- L836: `struct PillarRowView`
- L866: `struct PillarCreationView`


## Views/Settings

### SettingsViews.swift
- L13: `struct SettingsView`
- L57: `enum SettingsTab`
- L79: `struct SettingsSidebar`
- L117: `struct SettingsContent`
- L157: `struct GeneralSettingsView`
- L229: `struct AITrustSettingsView`
- L326: `struct CalendarSettingsView`
- L395: `struct PillarsRulesSettingsView`
- L466: `struct ChainsSettingsView`
- L533: `struct DataHistorySettingsView`
- L678: `struct AboutSettingsView`
- L733: `struct SettingsGroup<Content`
- L758: `struct PillarEditView`
- L815: `struct ChainEditView`
- L897: `struct ExportDocument`
- L913: `func fileWrapper`
- L918: `struct HistoryLogView`


## Views/Shared

### HelperViews.swift
- L12: `struct EmojiPickerButton`
- L45: `struct EmojiPickerView`
- L87: `struct EmptyStateCard`
- L118: `struct RightRailView`
- L149: `enum RightRailSection`
- L163: `struct RightRailHeader`
- L195: `struct ManualCreationSection`
- L256: `struct SuggestionsSection`
- L324: `func generateSuggestions`
- L357: `struct RescheduleSection`
- L407: `func rescheduleBlock`
- L418: `struct SuggestionRailCard`
- L471: `struct RescheduleCard`
- L498: `struct PillarDayView`
- L617: `func analyzePillarNeeds`
- L661: `func shouldCreateEventForPillar`
- L676: `func findBestTimeSlot`
- L694: `func isTimeSlotAvailable`
- L705: `func findNextAvailableSlot`
- L723: `func generateAnalysisText`
- L731: `func createPillarEvent`
- L737: `func stagePillarEvent`
- L742: `func addAllPillarEvents`
- L751: `struct MissingPillarCard`
- L793: `struct DraggableSuggestedEventCard`
- L869: `func createEventDragProvider`

### MoodPrompts.swift
- L3: `struct MoodPromptBanner`
- L78: `func startCountdown`
- L90: `func moodBackground`
- L104: `struct MoodStatusChip`
- L145: `func moodSymbol`
